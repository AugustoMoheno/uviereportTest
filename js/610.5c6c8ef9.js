"use strict";(self["webpackChunkuviereport"]=self["webpackChunkuviereport"]||[]).push([[610],{8610:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",r,!1),i),[a("v-icon",{attrs:{color:"#273746"}},[e._v("fact_check ")])],1)]}}])},[a("v-list",[a("v-list-item",[a("v-list-item",{on:{click:function(t){e.deleteDialog=!0}}},[e._v(" Borrar ")])],1),a("v-list-item",[a("v-list-item",{on:{click:function(t){e.swapDialog=!0}}},[e._v(" Intercambiar")])],1),a("v-list-item",[a("v-list-item",{on:{click:e.addBelow}},[e._v(" Agregar Abajo")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Borrar ")]),a("v-card-text",[e._v(" ¿Seguro que desea borrar la referencia "),a("strong",[e._v(e._s(e.item.reference))]),e._v("?, "),a("br"),e._v(" Se ajustará el contador automaticamente.")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"#273746",text:""},on:{click:e.cancel}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{outlined:"",color:"#273746"},on:{click:e.deleteAction}},[e._v(" Si, Borrar ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:e.swapDialog,callback:function(t){e.swapDialog=t},expression:"swapDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Intercambiar ")]),a("v-card-text",[e._v(" ¿Desea intercambiar la referencia "),a("strong",[e._v(e._s(e.item.reference))]),e._v(" con ?, "),a("br"),a("br"),a("v-select",{attrs:{outlined:"",label:"Referencias",items:e.filterItems,required:"","item-text":"reference","return-object":""},model:{value:e.newReference,callback:function(t){e.newReference=t},expression:"newReference"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"#273746",text:""},on:{click:e.cancel}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{outlined:"",color:"#273746",disabled:!e.newReference},on:{click:e.swapAction}},[e._v(" Si, Intercambiar ")])],1)],1)],1)],1)},r=[],n=a(629),s={name:"BtnActionSection",props:{item:{type:Object,default:null},nameEdit:{type:String,default:null}},data(){return{deleteDialog:!1,swapDialog:!1,newReference:null}},computed:{...(0,n.rn)({data:e=>e.customers.findCustomer}),filterItems(){const e=this.data[this.nameEdit].data,t=this.item.reference,a=e.filter((e=>e.reference!=t));return a}},methods:{...(0,n.nv)({getItem:"customers/search",saveItem:"customers/save"}),save(){this.saveItem(this.data),this.deleteDialog=!1,this.swapDialog=!1,this.newReference=null},cancel(){this.deleteDialog=!1,this.swapDialog=!1,this.newReference=null},deleteAction(){const e=this.data[this.nameEdit].data,t=this.item.reference,a=e.filter((e=>e.reference!=t));if(0===a.length)return this.data[this.nameEdit].data=a,this.save(),0;let i=0;const r=a.map((e=>{i++;const t=JSON.parse(JSON.stringify(e));return t.reference=i,t}));this.data[this.nameEdit].data=r,this.save()},swapAction(){const e=this.data[this.nameEdit].data,t=JSON.parse(JSON.stringify(this.item)),a=JSON.parse(JSON.stringify(this.newReference));t.reference=this.newReference.reference,a.reference=this.item.reference,e[t.reference-1]=t,e[a.reference-1]=a;const i=JSON.parse(JSON.stringify(e));this.data[this.nameEdit].data=i,this.save()},addBelow(){const e=this.item.reference;this.$emit("newItem");const t=this.data[this.nameEdit].data,a=t.pop();a.result=JSON.parse(JSON.stringify(this.data[this.nameEdit].config)),t.splice(e,0,a);let i=0;const r=t.map((e=>{i++;const t=JSON.parse(JSON.stringify(e));return t.reference=i,t})),n=JSON.parse(JSON.stringify(r));this.data[this.nameEdit].data=n,this.save()}}},c=s,l=a(1001),o=a(3453),d=a.n(o),v=a(6190),f=a(4145),m=a(4886),u=a(9930),h=a(4324),p=a(5808),g=a(4525),b=a(4528),w=a(1399),_=a(3687),S=(0,l.Z)(c,i,r,!1,null,null,null),k=S.exports;d()(S,{VBtn:v.Z,VCard:f.Z,VCardActions:m.h7,VCardText:m.ZB,VCardTitle:m.EB,VDialog:u.Z,VIcon:h.Z,VList:p.Z,VListItem:g.Z,VMenu:b.Z,VSelect:w.Z,VSpacer:_.Z})}}]);
//# sourceMappingURL=610.5c6c8ef9.js.map